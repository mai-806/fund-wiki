# День 11. Типы данных

## Словарик программиста:

- `Рациональное число` представимо в виде отношения целого и натурального.
- В 1937г. `Конрад Цузе` предложил ***полулогарифмический формат представления вещественных чисел в ЭВМ***.
- `Массив` — регулярный структурный тип с индексированным доступом.
- `Регулярный`: одинаковый тип всех компонент; использование в качестве индексной структуры декартового произведения.
- `Обход массива` — рассмотрение всех компонентов без исключений в определённом порядке по одному разу.
- Скалярные данные обрабатываются ***за раз***.


***

```yaml
© Нормальный человек не должен
- думать о смерти 
- (это об экзаменах)
- Но мы не настроены на неудачи,
- хотя они, конечно, будут.
```

> Машина умножения ***конгениальна*** (там отдельные немногочисленные сдвиги и сложения в двоичных числах. 0х0 = 0, 0х1 = 0)

- Надо уметь описать оценку времени работы алгоритмов logO(n), logO(n^2), иначе скидка.

***

## Деление

> Умножение быстрее деления!
> Лучше умножить на 0.5, чем поделить на 2

Задача деления — это ***эвристика*** подбора.

***

## 3.2.4 Вещественный тип

`Рациональное число` представимо в виде отношения целого и натурального.

![image](https://user-images.githubusercontent.com/113284506/211208582-21601c48-a038-43d4-8b47-79602828fac3.png)

Используется для измерения промежутков времени.

- В 19 веке установили, что множество вещественных чисел несчётно и всюду плотно.
- Ограничением диапазона вещественных чисел не загнать этот отрезок в машинное слово конечной длины, что было успешно для целого типа.
- Мы вынуждены пренебречь множеством рациональных чисел за некоторыми исключениями.
- Тогда вместо числовых множеств получим интервальные, и складывая интервалы будем получать интервал суммы.

Остаётся привести кодовые комбинации машинных слов для этих рациональных приближений.

- В 1937г. `Конрад Цузе` предложил ***полулогарифмический формат представления вещественных чисел в ЭВМ***.
- Число разлагается на произведение `мантиссы` (дроби) и `экспоненты`, являющейся целой частью логарифма. 
- Число представляется тремя частями машинного слова: знаком, степенью экспоненты и значением после запятой.

![image](https://user-images.githubusercontent.com/113284506/211209065-54116a48-b053-4b98-bcfb-b8705f7c23d7.png)

- Полулогарифмический формат иначе назван представлением `с плавающей точкой`. 
- Только плавает ***не точка***, а ***порядок*** числа, потому формулировка неудачная!

Необходимость представления знака порядка порождает проблему: они могут быть положительными и отрицательными, а сами числа как очень большие, так и около нуля.
- Проблема решается ***кодировкой со смещением***, что называется `характеристикой` (дополнительный код).


- ***Фиксированная арифметика*** (с фикс. точкой) применялась на бортовых компьютерах в режиме реального времени, а также в СУБД для представления денег. 

Любое вещественное число может быть представлено в нормализованном виде с помощью двух чисел (m, p) в приближенном виде.

![image](https://user-images.githubusercontent.com/113284506/211209741-04c44218-98d5-4571-98bf-b8c8608eb119.png)


![image](https://user-images.githubusercontent.com/113284506/211209781-be002ac3-905c-453c-b539-b0773abca284.png)

- `Машинное эпсилон` характеризует точность плавающей арифметики. 
- Вычисляется в районе единицы, потому что нормализация числа приводит мантиссу к правильной дроби без ведущих нулей после запятой.

- При использовании чисел типа `REAL` получаем `приближенные` результаты, что связано с `неустранимой погрешностью`.
- А при дополнительных округлениях сталкиваемся с `погрешностью округления` (возникает и при переходах из разных СС).


![image](https://user-images.githubusercontent.com/113284506/211210234-bb5b29fe-55c0-4181-add2-a713c9dd94c3.png)

> © Когда недоступна и зубная щётка, пишем на Pascal.

***

## 3.2.5 Литерный тип

В Pascal и Cи имеется `встроенный` литерный тип.
- Используется для ввода-вывода и обработки текстовых данных. 
- Часто используются одномерные массивы — `строки`.

> В Pascal этот тип более элементарный (для изображения значений других типов словами).

- В Си вместо строк используется массив литер.  

Константы литерного типа заключаются в кавычки: '3', 'a'.

Множество значений определяется конкретной `кодировкой`, которая и задаёт порядковый номер литеры.
- `Литерный тип` имеет минимальный набор операций и отношений, включая присваивание.

***

## 3.2.6 Согласование типов

Языки фон Неймановского типа допускают согласованное использование различных типов данных в вычислениях.

Помимо соответствия литерного и целого типов, интересно согласование целого и вещественных типов, которые близки с числовой точки зрения,
но различны по машинному представлению.

Осуществимо путём округления `round()` или отбрасыванием дробной части `trunc()`.
Из целого в вещественный — по умолчанию в случае необходимости (процесс трудоёмкий — реализуется интерпретативно).

***

## 3.2.7 Небазовые типы данных

![image](https://user-images.githubusercontent.com/113284506/211145526-673e12d7-60e0-4759-8377-21bc03bc9a15.png)


***

## 3.2.8 Понятие о структурном типе данных

`Структурные значения` — упорядоченные организованные совокупности других значений, рассматриваемые как единое целое.
Типичный пример — `комплексный тип`: состоит из ***вещественной*** и ***мнимой*** частей.

- `Структурные типы` — совокупности компонентов, распадаемых на `поля` и `элементы`.
- Структурный тип характеризуется типом `компонент` и `методом организации`.


![image](https://user-images.githubusercontent.com/113284506/211211868-7aba7841-c272-4f52-9480-20b732307565.png)


![image](https://user-images.githubusercontent.com/113284506/211211844-bc4511d8-27d8-4c8d-b0b3-e170bd643215.png)



Машина фон-Неймана `скалярная` и наши первоначальные типы — `скалярные`!

- Скалярные данные обрабатываются ***за раз***.
- Но групповые данные обрабатываются ***по компонентам***.

В групповых данных играют роль ***компоненты***!

Регулярные структуры означают, что все компоненты однотипны.
Также это значит, что либо вектор (матрица), либо множество индексов является декартовым произведением.

***

## 3.2.9 Тип массив

- `Массив` — регулярный структурный тип с индексированным доступом.
- `Регулярный`: одинаковый тип всех компонент; использование в качестве индексной структуры декартового произведения.

Для массивов одного типа поддерживаются присваивания, а для их элементов и другие арифметические операции.

Обработка массивов в виду скалярности машины фон Неймана выполняется покомпонентно: `не за копейку, а за рубль`.
Как правило, с помощью циклов for.

`Обход массива` — рассмотрение всех компонентов без исключений в определённом порядке по одному разу.

![image](https://user-images.githubusercontent.com/113284506/211211733-9d3c52ad-4f6f-4ad1-ae0c-09c9f6c2d674.png)


